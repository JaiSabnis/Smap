
{% load static %}
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>{{user.username}} Profile</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
      integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
      crossorigin="anonymous"
    />
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
      integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
      crossorigin="anonymous"
    ></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

    <link
      rel="stylesheet"
      type="text/css"
      href="{% static 'styles/style.css' %}"
    />

    <link
      rel="stylesheet"
      type="text/css"
      href="{% static 'styles/post.css' %}"
    />

    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">


<script type="text/javascript" src="{% static 'js/index.js' %}"></script>
  </head>

  <style>
  .flex-container {
  display: flex;
  flex-direction: row;
  justify-content: center;
  flex-wrap: wrap;
}

.c-preview {
  background: #000;
  background: -moz-linear-gradient(-45deg, #000000 0%, #000000 25%, #cfbf28 50%, #d62525 75%, #c46710 100%);
  /* FF3.6-15 */
  background: -webkit-linear-gradient(-45deg, #000000 0%, #000000 25%, #cfbf28 50%, #d62525 75%, #c46710  100%);
  /* Chrome10-25,Safari5.1-6 */
  background: linear-gradient(135deg, #000000 0%, #000000 25%, #cfbf28 50%, #d62525 75%, #c46710  100%);
  /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
  background-size: 400% 400%;
  background-repeat: no-repeat;
  display: flex;
  height: 60;
  max-width: 100vw;
  max-height: 100vh;
  margin-top: 2%;
  justify-content: center;
  align-items: center;
  color: #fff;
  position: relative;
  cursor: pointer;
  transition: .5s all;
  display:inline-block
}
.c-preview__img {
  position: absolute;
  left: 0;
  top: 0;
  background-size: cover;
  width: 100%;
  height: 100%;
  z-index: 1;
  opacity: .5;
  mix-blend-mode: screen;
}
.c-preview__title {
  position: relative;
  z-index: 10;
  text-transform: uppercase;
  font-size: 32px;
  color: white;
  font-weight: bold;
  letter-spacing: .05em;
  padding-top: 20%;
}
.c-preview:hover {
  background-position: 100% 100%;
}
.c-preview:hover__title {
  text-shadow: 0 0 20px black;
}


</style>








    <nav class="navbar navbar-dark bg-dark" >
    <a href="{% url 'index' %}" class="navbar-brand">Smap</a> 
    <button onclick="location.href='{% url 'logout' %}';" class="btn btn-outline-danger" style="margin-left: 20%" > Log Out </button>

    <form class="form-inline" action="{% url 'index' %}" method="post">

      <input name="username" class="form-control mr-sm-2" type="search" placeholder="Username/Organisation" style="margin-bottom: 4px;">
      {% csrf_token %}
      <button class="btn btn-success" style="margin-right: 5px;" type="submit">Search</button>
    </form>
    <button onclick="scrollSubmit()" class="btn btn-warning" > Submit Changes </button>
    </nav>



  <body>
    <br>
    <img src="https://cdn.fastly.picmonkey.com/contentful/h6goo9gw1hh6/2sNZtFAWOdP1lmQ33VwRN3/24e953b920a9cd0ff2e1d587742a2472/1-intro-photo-final.jpg?w=800&q=70"
     class="displayPic"/>
     <br><br>
    <h4>{{user.email}} </h4>
    <input id="name" name="name" type="text" placeholder="Full Name" class="proIntroField" required/>

    <link href="https://fonts.googleapis.com/css?family=Arvo&display=swap" rel="stylesheet">

<nav role="navigation" class="primary-navigation">
  <ul>
    <li><a href="#">About</a></li>
    <li><a href="#">Professional &dtrif;</a>
      <ul class="dropdown">
        <li><a href="#">Work Experience</a></li>
        <li><a href="#">Education</a></li>
        <li><a href="#">Skills</a></li>
      </ul>
    </li>
    <li><a href="#">Projects and Achievements</a></li>
    <li><a href="#">Contact</a></li>
  </ul>
</nav>

   <div>
    <textarea oninput='this.style.height = "";this.style.height = this.scrollHeight + "px"' rows=1 name="bio" id="bio" placeholder="Bio: Your Story" class="transFieldMedium" ></textarea>
</div>




<br>
    <button type="button" onclick="document.getElementById('myModal').style.display='block'" class="btn btn-outline-primary"  style="border-radius: 5em;
width: 20%;"> New Post</button>
    <button onclick="document.getElementById('catModal').style.display='block'" type="button" id="catBtn" class="btn btn-outline-secondary" style="border-radius: 5em; width: 50%;" > New Webpage Category </button>
<br>


<!-- Cat Modal -->
<div id="catModal" class="w3-modal" >
    <div class="w3-modal-content" style="height:60% ; overflow-y: auto;">
      <div class="w3-container">
        <span onclick="document.getElementById('catModal').style.display='none'" class="w3-button w3-display-topright">&times;</span>
            <div class="postContainer">
                    <h1 style="font-family: kiss"> New Category </h1>
    <form action="{% url 'profile' %}" method="post" class="postForm">
      {% csrf_token %}	
      <br><br>
      <div class="field" tabindex="1">
			<label for="Title">
				<i class="far fa-user"></i>Category Name 
			</label>
			<textarea rows=1 class="postinput" oninput='this.style.height = "";this.style.height = this.scrollHeight + "px"'type="text" name="catTitle" type="text" placeholder="Post Title" required></textarea>
		</div>
		<div class="field" tabindex="2">
			<label for="email">
				<i class="far fa-envelope"></i>About
			</label>
			<textarea class="postinput" oninput='this.style.height = "";this.style.height = this.scrollHeight + "px"'type="text" name="catAbout" placeholder="About" ></textarea>
		</div>
		<button name="catSubmit" class="btn btn-outline-primary" class="curlyButton" style=" width: 30%;" type="submit">Add Category</button>

	</form>
</div></div></div></div>









<!-- Post Modal -->
<div id="myModal" class="modal">
  <!-- Modal content -->
  <div class="modal-content">
    <span text-allign="center" onclick="document.getElementById('myModal').style.display='none'" class="close">&times;</span>
    <div class="postContainer">
        <h1 style="font-family: kiss"> New Post </h1>
    <form action="{% url 'profile' %}" method="post" class="postForm">
      {% csrf_token %}	
      <div class="field" tabindex="1">
			<label for="Title">
				<i class="far fa-user"></i>Title
			</label>
			<textarea rows=1 class="postinput" oninput='this.style.height = "";this.style.height = this.scrollHeight + "px"'type="text" name="title" type="text" placeholder="Post Title" required></textarea>
		</div>
		<div class="field" tabindex="2">
			<label for="email">
				<i class="far fa-envelope"></i>Short Description
			</label>
			<textarea class="postinput" oninput='this.style.height = "";this.style.height = this.scrollHeight + "px"'type="text" name="shortAbout" placeholder="Short Description (Recommeded for descriptive posts)" ></textarea>
		</div>
		<div class="field" tabindex="3">
			<label for="message">
				<i class="far fa-envelope"></i>Long Description
			</label>
			<textarea  oninput='this.style.height = "";this.style.height = this.scrollHeight + "px"'type="text" name="longAbout" placeholder="Long Description (Optional)" ></textarea>
		</div>
		<button name="postSubmit" class="btn btn-outline-primary" class="curlyButton" style=" width: 20%;" type="submit">Post</button>

	</form>
</div>
</div>
</div>




<!-- Category Post Modal -->
<div id="catPoster" class="modal">

  <!-- Modal content -->
  <div class="modal-content">
      <span onclick="document.getElementById('catPoster').style.display='none'" class="close">&times;</span>
    <div class="postContainer">
    <form action="{% url 'profile' %}" method="post" class="postForm">
      {% csrf_token %}	
        <h1 style="font-family: kiss"> Section Post </h1>
      <div class="field" tabindex="1">
			<label for="Section">
				<i class="far fa-user"></i>Section Name
			</label>
			<textarea rows=1 class="postinput" oninput='this.style.height = "";this.style.height = this.scrollHeight + "px"' name="category" text-weight="bolder" id="catName" readonly></textarea>
		</div>
      <div class="field" tabindex="1">
			<label for="Title">
				<i class="far fa-user"></i>Title
			</label>
			<textarea rows=1 class="postinput" oninput='this.style.height = "";this.style.height = this.scrollHeight + "px"' name="postTitle" placeholder="Post Title" required></textarea>
		</div>
		<div class="field" tabindex="2">
			<label for="email">
				<i class="far fa-envelope"></i>Short Description
			</label>
			<textarea class="postinput" oninput='this.style.height = "";this.style.height = this.scrollHeight + "px"'type="text" name="postShortAbout" placeholder="Short Description (Recommeded for descriptive posts)" ></textarea>
		</div>
    <br>
		<div class="field" tabindex="3">
			<label for="message">
				<i class="far fa-envelope"></i>Long Description
			</label>
			<textarea  oninput='this.style.height = "";this.style.height = this.scrollHeight + "px"'type="text" name="postLongAbout" placeholder="Long Description (Optional)" ></textarea>
		</div>
		<button name="catPost" class="btn btn-outline-primary" class="curlyButton" style=" width: 20%;" type="submit">Post</button>

	</form>
</div>
</div>
</div>




{%if posts %}
<div id="posts" class="jumbotron" style="margin-top: 5%" class="flex-container">
  {%for post in posts%}
  <a class="c-preview"  style="width: 45%;">
    <div class="c-preview__img"  style="background: #000 url(https://study.com/cimages/multimages/16/02197d15-4c3b-4c7d-93cf-0958784ef512_group_project.jpeg) no-repeat center center;"></div>
    <h2 class="c-preview__title">{{post.title}}</h2>
  </a>
  {%endfor%}
</div>
{% else %}
<br>
  <!-- FOR NO POSTS or CATEGORYS-->  
<div class="jumbotron" >
  <h1 class="display-4">No added content </h1>
  <p class="lead"> You can start developing your webspace by adding a category and then adding posts to it.</p>
  <hr class="my-4">
  <p>For example, if your sharing your business: you can have a category for your products and another category for your team! Create a category here</p>
  <p class="lead">
    <button class="btn btn-secondary btn-lg" onclick="document.getElementById('catModal').style.display='block'">New Category</button>
  </p>
  <hr class="my-4">
  <p> Don't want to start with a category? Directly add posts to your webspace here! </p>
   <p class="lead">
    <button class="btn btn-primary btn-lg" onclick="document.getElementById('myModal').style.display='block'" >New Post</button>
  </p>
</div>


{%endif%}


{%if categorys %}
  {%for category in categorys%}
    <div class="jumbotron" style="background-color: lightblue">
    <h1 class="catHeader"> {{category.title}} {{category.posts|length}}</h1>
    <h3 class="catAbout"> {{category.about}} </h3>
    {% if category.posts|length < 1 %}
    <!-- FOR CATEGORY ADDED BUT NO POSTS-->  
        <h1 class="display-5">No posts in this category </h1>
        <p class="lead"> Start filling up this section with posts</p>
        <button class="btn btn-primary btn-lg" onclick="document.getElementById('catPoster').style.display='block'; document.getElementById('catName').value = '{{category.id}}'" >
        Add Post in Category</button>
    {% else%}
    {%for post in category.posts%}
  <a class="c-preview"  style="width: 45%;">
    <div class="c-preview__img"  style="background: #000 url(https://study.com/cimages/multimages/16/02197d15-4c3b-4c7d-93cf-0958784ef512_group_project.jpeg) no-repeat center center;"></div>
    <h2 class="c-preview__title">{{post.title}}</h2>
  </a>
  {%endfor%}

    {%endif%}
    </div>
  {%endfor%}
<!-- FOR POSTS ADDED BUT NO CATEGORY-->  
{% else %}
<div class="jumbotron" >
  <h1 class="display-4">No sections on this webspace </h1>
  <p class="lead"> Sections help organise your content</p>
  <hr class="my-4">
  <p>For example, sharing your soccer team with your fans? Add a category for detailing individual team members here </p>
  <p class="lead">
    <button class="btn btn-secondary btn-lg" onclick="document.getElementById('catModal').style.display='block'">New Category</button>
  </p>
</div>
{%endif%}





    


       <input type="button" id="submitButton" class="btn btn-outline-warning btn-block" style="padding: 2% 0; margin-top: 10% ; font-size: 150%" value="Submit" />




  </body>
</html>
